---
name: 红宝书学习笔记（十五）
title: 红宝书（javascirpt高级程序设计）学习笔记（十五）
tags: ['读书笔记', '红宝书', 'javascript高级程序设计']
categories: 学习笔记
info: "人类的好伙伴，红宝书（十三） 第22章 高级技巧"
time: 2019/2/18
desc: 'javascirpt高级程序设计, 红宝书, 资料下载, 学习笔记, 第22章'
keywords: ['前端', '红宝书笔记', '学习笔记', '第22章 高级技巧']
---

#  红宝书（javascirpt高级程序设计）学习笔记（十五）

## 第22章 高级技巧

**干货章节，建议认真阅读，做好笔记**

### 22.1 高级函数

#### 22.1.1 安全的类型检测

JavaScript内置的类型监测机制并非完全可靠，`typeof`和`instanceof`操作符很多时候都会返回预想之外的结果（比如原生的JSON库和非原生的JSON库）。

解决方法是对要检测的对象执行`Object.prototype.toString.call()`以确定其是否为原生对象。

#### 22.1.2 作用域安全的构造函数

安全的构造函数，`this`指针不会由于错误的调用而指向`window`污染全局作用域，如下

```javascript
function Person (name, age, job) {
    if (this instanceof Person) {
        this.name = name
        this.age = age
        this.obj = obj
    } else {
        return new Person(name, age, job)
    }
}
var person1 = Person("joy", 18, "Software")
```

使用以上代码可以锁定调用构造函数的环境，但这也意味着你不能使用`Person.call()`的方式在其他的作用域中调用这段赋值代码。

#### 22.1.3 惰性载入函数

核心思想就是在执行分支代码时牺牲一点性能进行判断，但最终只需要做一次初始化。

#### 22.1.4 函数绑定

```javascript
function bind(fn, context) {
    return function () {
        return fn.apply(context, arguments)
    }
}
```

使用该函数可以保证函数执行时其`this`指针是绑定在其定义时候的对象。原理跟之前讲过的`Function.prototype.bind`一样（其实更简单）。

#### 22.1.5 函数柯里化

> 本次阅读应至 P604 22.1.5 函数柯里化 623