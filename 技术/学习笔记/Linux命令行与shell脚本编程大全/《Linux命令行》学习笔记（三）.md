---
name: 《Linux命令行》学习笔记（三）
title: 《Linux命令行》学习笔记（三）
tags: ["技术","学习笔记","Linux命令行与shell脚本编程大全"]
categories: 学习笔记
info: "第4章 更多的 bash shell 命令"
time: 2020/3/10
desc: 'Linux命令行与shell脚本编程大全, 资料下载, 学习笔记, 第4章 更多的 bash shell 命令'
keywords: ['Linux命令行与shell脚本编程大全', 'shell学习', '学习笔记', '第4章 更多的 bash shell 命令']
---

# 《Linux命令行》学习笔记（三）

## 第 4 章 更多的 bash shell 命令

> 文件管理和目录管理是Linux shell的主要功能之一。不过，在开始脚本编程之前，我们还需要了解一下其他方面的知识。本章将详细介绍Linux系统管理命令，演示如何通过命令行命令来探查Linux 系统的内部信息，后介绍一些可以用来操作系统上数据文件的命令。 

### 4.1 监测程序

Linux 系统管理员可以用一些命令行工具来跟踪运行在系统中的程序。

#### 4.1.1 探查进程

当程序运行在系统上时通常被称为`进程(process)`，要监测这些进程则需要熟悉`ps`命令的用法，该命令能输出运行在系统上所有程序的许多信息。

`ps`命令有很多参数，默认不使用参数的情况下，命令并不会提供多少信息，且**只会显示运行在当前控制台下的属于当前用户的进程**。

比如下面的命令，就只运行了 bash shell 和 ps 命令本身。

```shell
ps
#   PID TTY          TIME CMD
#   3081 pts/0    00:00:00 bash
#   3209 pts/0    00:00:00 ps
```

Linux 系统中使用的 GNU ps 命令支持 3 中不同类型的命令行参数：

- Unix 风格的参数，前面加单破折线
- BSD 风格参数，前面不加破折线
- GNU 风格的长参数，前面加双破折线

**1. Unix 风格的参数**

![linux-ps-unix-1.jpg](./images/linux-ps-unix-1.jpg)

![linux-ps-unix-2.jpg](./images/linux-ps-unix-2.jpg)

使用 ps 命令的关键不在于记住所有可用的参数，而在于记住最有用的那些参数。举个例子，使用`ps -ef`参数组合可以查看系统上的所有进程（-e 参数指定显示所有运行在系统上的进程，-f 参数则扩展了输出）

信息列包含以下内容：

- UID：启动这些进程的用户
- PID：进程的进程 ID
- PPID：父进程的进程号（如果该进程是由另一个进程启动的）
- C：进程生命周期中的 CPU 利用率
- STIME：进程启动时的系统时间
- TTY：进程启动时的终端设备
- TIME：运行进程所累积的 CPU 时间
- CMD：启动的程序名称

如果想获得更多信息，可以再加上`-l`参数，它会产生一个长格式输出。多出以下列：

- F：内核分配给进程的系统标记
- S：进程的状态（O 代表正在运行；S 代表在休眠；R 代表可运行，正等待运行；Z 代表僵化，进程已结束但父进程已不存在；T 代表停止）
- PRI：进程的优先级（越大的数字代表越低的优先级）
- NI：谦让度值，用于参与决定优先级
- ADDR：进程的内存地址
- SZ：加入进程被换出，所需交换空间的大致大小
- WCHAN：进程休眠的内核函数的地址

**2. BSD 风格的参数**

![linux-ps-bsd-1.jpg](./images/linux-ps-bsd-1.jpg)

![linux-ps-bsd-2.jpg](./images/linux-ps-bsd-2.jpg)









> 阅读至 P67 82