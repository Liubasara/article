---
name: 红宝书学习笔记（二）
title: 红宝书（javascirpt高级程序设计）学习笔记（二）
tags: ['读书笔记', '红宝书', 'javascript高级程序设计']
categories: 学习笔记
info: "人类的好伙伴，红宝书（二）"
time: 2019/1/21,
desc: 'javascirpt高级程序设计, 红宝书, 资料下载, 学习笔记'
keywords: ['前端', '红宝书笔记', '学习笔记']
---

# 红宝书（javascirpt高级程序设计）学习笔记（二）

## 第4章 变量、作用域和内存问题

**本章涉及到JavaScript运行底层的一些基础问题，适合认真阅读，加深理解。**

### 4.1 基本类型和引用类型的值

ECMAScript变量包含两种不同的数据类型：基本类型值和引用类型值。

基本类型值有以下五种：

1. Undefined
2. Null
3. Boolean
4. Number
5. String

而引用类型值是保存在内存中的**对象**，由于JavaScript不允许直接访问内存中的位置，也就是说不能直接操作对象的内存空间，所以在操作对象时，实际上实在操作对象的引用。

#### 4.1.2 复制变量值

**复制基本类型值，会在变量对象上创建一个新值，两个变量可以参与任何操作而不会互相影响。**

**复制引用类型值，同样也会复制一份引用类型值，然而这个引用类型值实际上是一个指针，而这个指针指向存储在堆中的一个对象。复制操作结束后，两个变量实际将引用同一个对象。因此，改变其中一个变量，就会影响另一个变量。**

```javascript
// 示例
var obj1 = new Object()
var obj2 = obj1
obj1.name = "nihao"
alert(obj2.name) // "nihao"
```

#### 4.1.3 传递参数

在ECMAScript中，函数参数的传递就相当于是将函数外部的值从一个变量复制到另一个变量，因此基本类型值会复制一个相同的值，而引用类型值会复制一个相同对象的指针。

#### 4.1.4 检测类型

一般会使用 *typeof* 操作符来确定一个变量是否为基本数据类型，但是对于引用类型值或是*null*，则只会返回*object*。想知道某个引用类型值是什么类型的对象，可以使用 *instanceof* 操作符。

```javascript
// result = variable instanceof constructor
alert(person instanceof Object) // 变量person是Object吗
alert(colors instanceof Array) // 变量colors是Array吗
alert(pattern instanceof RegExp) // 变量pattern是RegExp吗
```

根据规定，所有引用类型的值都是Object的实例。因此，在检测一个引用类型值和Object构造的函数时，instanceof操作符会返回true。当然，如果使用instanceof操作符检测基本类型的值，则会始终返回false，因为基本类型不是对象。



阅读至P73 4.2执行环境及作用域 92