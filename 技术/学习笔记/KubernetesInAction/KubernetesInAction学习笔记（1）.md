---
name: KubernetesInAction学习笔记（1）
title: KubernetesInAction学习笔记（1）
tags: ["技术","学习笔记","KubernetesInAction"]
categories: 学习笔记
info: "第1章 Kubernetes介绍"
time: 2020/12/20 21:00
desc: 'kubernetes in action, 资料下载, 学习笔记'
keywords: ['kubernetes in action', 'k8s学习', '学习笔记']
---

# KubernetesInAction学习笔记（1）

> 资料下载地址:
>
> [百度网盘](https://pan.baidu.com/s/1cK2u5gcYwGk_5u4rzQYLRg)
>
> 提取码: j5nv
>
> **本资料仅用于学习交流，如有能力请到各大销售渠道支持正版 !**

## 第 1 章 Kubernetes 介绍

内容涵盖：

- 应用的开发和部署方式发展趋势
- 容器如何保障应用间的隔离性，以及减少应用对部署环境的依赖性
- Docker 容器如何在 Kubernetes 系统中应用
- Kubernetes 如何提高开发人员和系统管理员的工作效率

在过去多数的应用都是大型单体应用以单个进程或几个进程的方式运行于几台服务器上，每个发布周期结束前开发者会将应用程序打包后交付给运维团队。

今天，大型单体应用正被逐渐分解成小的、可独立运行的组件，彼此之间解耦，所以它们可以被独立开发、部署、升级、伸缩。这使得我们可以对每一个微服务实现快速迭代。

但是随着部署组件的增多和数据中心的增长，配置、管理并保持系统正常运行变得越来越困难。**如果我们想要获得足够高的资源利用率并降低硬件成本，就需要一些自动化的措施，包括自动调度、配置、监管和故障处理，这正是 Kubernetes 的用武之地**。

Kubernetes 使得开发者可以自主部署应用并且控制部署的频率，完全脱离运维团队的帮助。Kubernetes 同时能让运维团队监控整个系统，并且在硬件故障时重新调度应用。这也让系统管理员的工作重心从监管应用转移到了监管 Kubernetes，以及剩余的系统资源。

此外，如果是类似云厂商提供的那种超大型数据中心，通过 Kubernetes，云厂商提供给开发者的是一个可部署且可运行的任何类型应用的简易化云平台。

### 1.1 Kubernetes 系统的需求

#### 1.1.1 从单体应用到微服务

运行一个单体应用，通常需要一台能为整个应用提供足够资源的高性能服务器，为了应对不断增长的系统负荷，需要通过增加 CPU、内存或其他系统资源的方式来对服务器做垂直扩展。虽然不需要应用程序做任何变化，但成本很快就会越来越高，而且通常会有瓶颈。而水平拓展的改动也比较大，有时甚至是不可行的。所以将应用拆解为多个微服务势在必行。

![1-1.png](./images/1-1.png)

多个微服务之间可以通过 HTTP 这样的同步协议通信，或者通过像 AMQP 这样的异步协议通信。这些协议能够被大多数开发者所理解，并且不局限于某种编程语言，每个服务都可以使用最适合的开发语言来实现。

相比于单体应用，微服务的扩展显得很有优势，可以很方便地进行水平扩展。

但微服务也有缺点，当组件数量增加时，部署相关的决定就变得越来越困难，而且组件间依赖的组合数也在以更大的因素增加，由于各组件独立开发，各应用间的依赖冲突也变得更加明显。

![1-3.png](./images/1-3.png)

#### 1.1.3 迈向持续交付：DevOps 和 NoOps

DevOps 意味着开发者、QA 和运维团队彼此之间的合作贯穿整个产品开发流程，让开发者更多地在生产环境中运行应用，而为了达到这个目的就需要运维团队简化部署流程，让开发人员能够持续地将自己的应用部署上线而不需要交付给运维人员操作。

但是，部署应用往往需要具备对数据中心底层设备和硬件架构的理解，但开发人员却通常不想知道这些细节。

理想情况是，开发者部署程序时不需要知道硬件基础设施的任何情况，也不需要和运维团队交涉，这被叫作 NoOps。而 K8S 正是一个能让我们实现这些想法的工具，通过对实际硬件做抽象，将自身暴露成一个平台用于部署和运行应用程序。允许开发者自己配置和部署应用程序而不需要系统管理员的任何帮助。

### 1.2 介绍容器技术

Kubernetes 使用 Linux 容器技术来提供应用的隔离，通过熟悉容器的基本知识可以更加深入地理解 K8S，包括认识到存在的容器技术分支，诸如 Docker 或者 rkt。

#### 1.2.1 什么事容器

在容器技术出现之前，如果想解决不同环境需求的隔离，需要为每个组件分配专用的虚拟机，但每个虚拟机都需要单独配置和管理会造成硬件资源和人力资源的浪费，容器技术应运而生。

容器类似迅即，但开销小很多，一个容器里运行的进程实际上依旧是运行在宿主机上的，但在容器内的进程依旧与宿主机的进程隔离。对于容器内进程本身而言，就好像是在机器和操作系统上运行的唯一一个进程。

![1-4.png](./images/1-4.png)

和虚拟机相比较，容器更加轻量级，CPU 无需像虚拟机那样进行不同操作系统指令的虚拟化，每个虚拟机运行在自己的 Linux 内核上，而容器则都是调用宿主机的内核。这自然会有一定的安全隐患，但如果你的硬件资源有限又有大量被隔离的进程，那么容器的低消耗就成为了一个更好的选择。

**总结下来，核心的不同点就是，每个虚拟机运行一组它自己的系统服务，而容器则不会，也就不需要进行开机，进程可以很快被启动**。



**容器实现隔离机制介绍**







> 本次阅读应至 P10 30 容器实现隔离机制介绍





